<link rel="stylesheet" href="css/common.d1d257d3.css">
<link rel="stylesheet" href="css/cinemas-list.d5916a9a.css">
<link rel="stylesheet" href="css/cinema.css">
<link rel="stylesheet" href="css/pagination.css">
<script src="js/jquery-1.12.4.min.js"></script>
<script src="js/jquery.pagination.js"></script>
<link rel="stylesheet" href="css/pagination.css">
<div class="tags-panel">
  <ul class="tags-lines">

    <li class="tags-line" data-type="brand">
      <div class="tags-title">品牌:</div>
      <ul class="tags">
        <li class="active">
          <a data-act="tag-click" data-val="{TagName:&#39;全部&#39;, city_id:108}" data-id="-1" href="https://maoyan.com/cinemas?brandId=-1" data-bid="b_x9tdpsnb">全部</a>
        </li>
        <li class="">
          <a data-act="tag-click" data-val="{TagName:&#39;中影国际影城&#39;, city_id:108}" data-id="23745" href="https://maoyan.com/cinemas?brandId=23745" data-bid="b_x9tdpsnb">中影国际影城</a>
        </li>
        <li class="">
          <a data-act="tag-click" data-val="{TagName:&#39;中影Face电影城&#39;, city_id:108}" data-id="30894" href="https://maoyan.com/cinemas?brandId=30894" data-bid="b_x9tdpsnb">中影Face电影城</a>
        </li>
        <li class="">
          <a data-act="tag-click" data-val="{TagName:&#39;中影火星湖电影城&#39;, city_id:108}" data-id="142019" href="https://maoyan.com/cinemas?brandId=142019" data-bid="b_x9tdpsnb">中影火星湖电影城</a>
        </li>
        <li class="">
          <a data-act="tag-click" data-val="{TagName:&#39;幸福蓝海国际影城&#39;, city_id:108}" data-id="30053" href="https://maoyan.com/cinemas?brandId=30053" data-bid="b_x9tdpsnb">幸福蓝海国际影城</a>
        </li>
        <li class="">
          <a data-act="tag-click" data-val="{TagName:&#39;其他&#39;, city_id:108}" data-id="0" href="https://maoyan.com/cinemas?brandId=0" data-bid="b_x9tdpsnb">其他</a>
        </li>
      </ul>
    </li>
    <li class="tags-line tags-line-border" data-type="district">
      <div class="tags-title">行政区:</div>
      <ul class="tags">
        <li class="active">
          <a data-act="tag-click" data-val="{TagName:&#39;全部&#39;, city_id:108}" data-id="-1" href="https://maoyan.com/cinemas?districtId=-1" data-bid="b_arz3865r">全部</a>
        </li>
        <li class="">
          <a data-act="tag-click" data-val="{TagName:&#39;地铁附近&#39;, city_id:108}" data-id="-2" href="https://maoyan.com/cinemas?districtId=-2" data-bid="b_arz3865r">地铁附近</a>
        </li>
        <li class="">
          <a data-act="tag-click" data-val="{TagName:&#39;香洲区&#39;, city_id:108}" data-id="162" href="https://maoyan.com/cinemas?districtId=162" data-bid="b_arz3865r">香洲区</a>
        </li>
        <li class="">
          <a data-act="tag-click" data-val="{TagName:&#39;斗门区&#39;, city_id:108}" data-id="163" href="https://maoyan.com/cinemas?districtId=163" data-bid="b_arz3865r">斗门区</a>
        </li>
        <li class="">
          <a data-act="tag-click" data-val="{TagName:&#39;金湾区&#39;, city_id:108}" data-id="164" href="https://maoyan.com/cinemas?districtId=164" data-bid="b_arz3865r">金湾区</a>
        </li>
      </ul>
    </li>
    <li class="tags-line tags-line-border" data-type="hallType">
      <div class="tags-title">特殊厅:</div>
      <ul class="tags">
        <li class="active">
          <a data-act="tag-click" data-val="{TagName:&#39;全部&#39;, city_id:108}" data-id="-1" href="https://maoyan.com/cinemas?hallType=-1" data-bid="b_bmcmwqi9">全部</a>
        </li>
        <li class="">
          <a data-act="tag-click" data-val="{TagName:&#39;IMAX厅&#39;, city_id:108}" data-id="2" href="https://maoyan.com/cinemas?hallType=2" data-bid="b_bmcmwqi9">IMAX厅</a>
        </li>
        <li class="">
          <a data-act="tag-click" data-val="{TagName:&#39;CGS中国巨幕厅&#39;, city_id:108}" data-id="3" href="https://maoyan.com/cinemas?hallType=3" data-bid="b_bmcmwqi9">CGS中国巨幕厅</a>
        </li>
        <li class="">
          <a data-act="tag-click" data-val="{TagName:&#39;杜比全景声厅&#39;, city_id:108}" data-id="9" href="https://maoyan.com/cinemas?hallType=9" data-bid="b_bmcmwqi9">杜比全景声厅</a>
        </li>
        <li class="">
          <a data-act="tag-click" data-val="{TagName:&#39;LUXE巨幕厅&#39;, city_id:108}" data-id="5" href="https://maoyan.com/cinemas?hallType=5" data-bid="b_bmcmwqi9">LUXE巨幕厅</a>
        </li>
        <li class="">
          <a data-act="tag-click" data-val="{TagName:&#39;DTS:X 临境音厅&#39;, city_id:108}" data-id="25" href="https://maoyan.com/cinemas?hallType=25" data-bid="b_bmcmwqi9">DTS:X 临境音厅</a>
        </li>
        <li class="">
          <a data-act="tag-click" data-val="{TagName:&#39;4K厅&#39;, city_id:108}" data-id="8" href="https://maoyan.com/cinemas?hallType=8" data-bid="b_bmcmwqi9">4K厅</a>
        </li>
        <li class="">
          <a data-act="tag-click" data-val="{TagName:&#39;4D厅&#39;, city_id:108}" data-id="7" href="https://maoyan.com/cinemas?hallType=7" data-bid="b_bmcmwqi9">4D厅</a>
        </li>
        <li class="">
          <a data-act="tag-click" data-val="{TagName:&#39;60帧厅&#39;, city_id:108}" data-id="14" href="https://maoyan.com/cinemas?hallType=14" data-bid="b_bmcmwqi9">60帧厅</a>
        </li>
        <li class="">
          <a data-act="tag-click" data-val="{TagName:&#39;巨幕厅&#39;, city_id:108}" data-id="6" href="https://maoyan.com/cinemas?hallType=6" data-bid="b_bmcmwqi9">巨幕厅</a>
        </li>
      </ul>
    </li>
    <li class="tags-line tags-line-border" data-type="service">
      <div class="tags-title">服务:</div>
      <ul class="tags">
        <li class="active">
          <a data-act="tag-click" data-val="{TagName:&#39;全部&#39;, city_id:108}" data-id="-1" href="https://maoyan.com/cinemas?serviceId=-1" data-bid="">全部</a>
        </li>
        <li class="">
          <a data-act="tag-click" data-val="{TagName:&#39;可退票&#39;, city_id:108}" data-id="2" href="https://maoyan.com/cinemas?serviceId=2" data-bid="">可退票</a>
        </li>
        <li class="">
          <a data-act="tag-click" data-val="{TagName:&#39;可改签&#39;, city_id:108}" data-id="3" href="https://maoyan.com/cinemas?serviceId=3" data-bid="">可改签</a>
        </li>
      </ul>
    </li>
  </ul>
</div>

<div class="cinemas-list" id="cinemaList">
  <h2 class="cinemas-list-header">
    <span>影院列表</span>
  </h2>

</div>
<div class="movies-pager">
  <div id="page"></div>
</div>
<script>
  load();
  function load() {
    $.ajax({
      url : 'cinema_list',
      method : 'get',
      data:{'pageNum':1,'pageSize':12},
      success : function(result){
        if(result.code == 200){
          addCinema(result.data);
          page(result.data);
        }else {
          alert(result.message);
        }
      }
    });
  }
  function addCinema(dataList){
    $("#cinemaList").empty();
    $.each(dataList.list,function (index,obj) {
      $("#cinemaList").append(
              '<div class="cinema-cell">' +
              '<div class="cinema-info">' +
              '<a href="javascript:void 0" class="cinema-name"">' + obj.cinemaName + '</a>' +
              '<p class="cinema-address">地址：' + obj.cinemaAddress + '</p>' +
              '</div>' +
              '<div class="buy-btn">' +
              '<a href="javascript:void 0">选座购票</a>' +
              '</div>' +
              '<div class="price">' +
              '<span>参考价</span>' +
              '<span class="rmb red">' + obj.cinemaReferencePrice + '￥</span>' +
              '<span class="price-num red"><span class="stonefont">￥</span></span>' +
              '<span>起</span>' +
              '</div>' +
              '</div>'
      )
    })
  }
  //分页
  function page(pageInfo){
    $("#page").pagination(pageInfo.total, { //第一个参数指定共多少条记录
      items_per_page:12, // 每页显示多少条记录
      next_text:"下一页", //下一页按钮图标
      prev_text:"上一页", //上一页按钮图标
      num_display_entries:5,//主体页数
      num_edge_entries: 2, //边缘页数
      callback: function(index){//定义一个回调函数，用于每次点击页码发起分页查询请求
        //index为当前页码，只不过下标是从0开始，因此需要+1操作
        var pageNum = ++index;
        $.ajax({
          url : 'cinema_list',
          method : 'get',
          data : {'pageNum' : pageNum, 'pageSize' : 12},
          success : function(result){
            //渲染表格
            addCinema(result.data);
          }
        });
      }
    });
  }

</script>